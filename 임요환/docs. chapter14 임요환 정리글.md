## 프로젝트에서 테스트
- 팀원들과 끝없는 언쟁과 코드 충돌(code thrashing)로 시간 낭비를 피할 수 있는 표준을 배움

### 빠른 도입
- 단위 테스트는 끊입없는 경계를 요구하며 테스트 작성을 질기고 코드를 잘 적용할 수 있다고 해도 힘든 싸움에 직면하게 됨
- 테스트 코드보다 빨리 코드를 만들게 되며 마감 시간을 맞추는 방법을 단위 테스트를 하지 않는 것이라고 주장할 수 있음
- 단위테스트를 하지 않으면 품질을 떨어뜨리고 이는 매우 단기간만 생산적임
- 추후 오랜시간을 디버깅해야 할 것이며 급조한 코드를 변경하는 데 더 많은 시간이 들고 코드도 이해하기 어려워짐
- 단위테스트는 문화의 습관적인 일부가 될 수 있도록 해야함

### 팀과 같은 편 되기
- 개발자마다 테스트에 접근하는 방법이 다르므로 서로 합의점을 통해 다른 사람의 시간을 빼앗지 않아야 함

#### 단위 테스트 표준 만들기
- 시간을 낭비하게 만드는 부분?
- 모두가 빠르게 동의할 수 있는 표준?
- 초창기 표준 예시 목록
    - 코드를 체크인하기 전에 어떤 테스트를 실행해야 할지 여부
    - 텣스트 클래스와 메서드의 이름 짓는 방식
    - 햄크레스트 혹은 전통적인 단언 사용 여부
    - AAA 사용 여부
    - 선호하는 목 도구 선택
    - 체크인 테스트를 실행할 떄 콘솔에 출력을 허용할지 여부
    - 단위 테스트 스위트에서 느린 테스트를 분명하게 식별하고 막을 방법

#### 리뷰로 표준 준수 높이기
- 단위테스트와 프로덕션 코드는 소중하기 대문에 팀원 모두가 코드를 마음대로 작성하면 안됨
- 리뷰 세션을 통해 단위 테스트 작성자가 피드백을 요청할 수 있음
- 페이건 검사(Fagan inspections)를 사용하여 리뷰 절차를 공식화할 수 있음
- 깃허브의 풀리퀘스트 활용

#### 짝 프로그래밍을 이용한 리뷰
- two-heads-are-better-than-one 
- 사후 리뷰는 가치가 있지만 들이는 노력만큼 그 가치가 높지 않음
- 사후 리뷰는 심각한 문제를 고치는데 너무 늦음
- 짝 프로그래밍은 두 번쨰 사람의 눈으로 시작부터 품질이 좋은 코드를 만들 수 있다는 희망을 줄 수 있음
- 좋은 단위 테스트를 지속하는 것도 한가지 방향임

### 지속적 통합으로 수렴
- 단위 테스트를 팀 차원의 표준으로 바라보기 위한 공유 저장소가 필요함
- 코드가 다른 머신에서도 테스트를 모두 통과했다는 것은 배포 자신감을 키울 수 있음
- CI 서버를 통해 단위테스트를 지속적으로 수행하고 모니터링 하며 빌드에 문제가 있을 시 개발팀에 공지함

### 코드 커버리지
- 얼마나 많은 코드가 단위 테스트되었나?
- 엠마, 코버투라 같은 코드 커버리지 도구 사용

#### 커버리지는 어느 정도여야 하는가?
- 코드리지가 높다고 좋은게 아니고 낮다고 나쁜건 아님
- 70%의 커버리지면 충분함

#### 100% 커버리지는 진짜 좋은가?
- TDD는 정의상 90%를 초과 달성함
- 높은 커버리지를 위해 가치가 없는 단위 테스트를 작성하느라 시간을 낭비하면 안됨

#### 코드 커버리지의 가치
- 코드 커버리지 도구를 통해 어느 코드의 커버리지가 부족한지 알아야함
- 커버리지 퍼센트는 점점 높아져야 하며 적어도 아래 방향으로 내려가면 안됨

### 마치며
- 지속적으로 단위 테스트에 대한 지식을 늘려 가야 함